(this.webpackJsonpreact_zoom_link=this.webpackJsonpreact_zoom_link||[]).push([[0],[,,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var a=function(e){return e instanceof Element||e instanceof HTMLDocument},r=function(e){return"number"===typeof e},c=function(e){return"string"===typeof e},i=function(e,t){return Math.abs(e-t)<=4},l=function(e,t,n){if("object"!==typeof(a=e)||null===a||!c(t))return n;for(var a,r=t.split("."),i=e[r.shift()];r.length>0;)i=i[r.shift()];return i||n}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return m}));var a=n(7),r=n(3),c=n(2),i={x:null,y:null},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.size,i=t.color;return Object(r.a)({},Object(c.d)(n)&&Object(a.a)({},e,n),{},Object(c.e)(i)&&{backgroundColor:i})},o=function(e,t){var n=e.currentX,a=e.currentY,c=e.clickX,i=e.clickY;return Object(r.a)({top:Math.min(i,a),left:Math.min(c,n),width:Math.abs(n-c)},l("height",t))},u=function(e,t){var n=e.currentX,a=e.currentY,c=e.clickX,i=e.clickY;return Object(r.a)({top:Math.max(i,a),left:Math.min(c,n),width:Math.abs(n-c)},l("height",t))},s=function(e,t){var n=e.currentY,a=e.currentX,i=e.clickX,o=e.clickY;return Object(r.a)({top:Math.min(o,n),left:Math.max(i,a)-Object(c.a)(t,"size",2),height:Math.abs(n-o)},l("width",t))},m=function(e,t){var n=e.currentX,a=e.currentY,c=e.clickX,i=e.clickY;return Object(r.a)({top:Math.min(i,a),left:Math.min(n,c),height:Math.abs(a-i)},l("width",t))}},,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n(3),r=n(9),c=n(10),i=n(13),l=n(11),o=n(14),u=n(1),s=n.n(u),m=n(6),f=n(2),d=n(24),h=n(23),g=n(20),b=(n(41),function(t){function n(e){var t;return Object(r.a)(this,n),(t=Object(i.a)(this,Object(l.a)(n).call(this,e))).handleMouseMove=function(e){if(t.isOutsideImageRectangle(e))t.setState({mousePosition:Object(a.a)({},m.a),clickPosition:Object(a.a)({},m.a)}),t.toggleBodyVisibility(t.initialBodyOverflow);else{var n=t.getCoordinates(e);t.setState({mousePosition:n})}},t.handleClick=function(e){t.imgRectangle=t.imgRef.current.getBoundingClientRect(),t.toggleBodyVisibility({overflowX:"hidden",overflowY:"hidden"});var n=t.getCoordinates(e);t.setState({clickPosition:n})},t.getCoordinates=function(e){var n=e.pageX,a=e.pageY,r=t.imgRectangle,c=r.x,i=r.y;return{x:Math.floor(n-c),y:Math.floor(a-i)}},t.isOutsideImageRectangle=function(e){var n=e.pageX,a=e.pageY,r=t.imgRectangle,c=r.right,i=r.left,l=r.top,o=r.bottom;return Object(f.b)(n,c)||Object(f.b)(n,i)||Object(f.b)(a,l)||Object(f.b)(a,o)},t.toggleBodyVisibility=function(e){var t=e.overflowX,n=e.overflowY,a=document.documentElement;a.scrollHeight<=a.clientHeight&&(document.body.style.overflowY=n),a.scrollWidth<=a.clientWidth&&(document.body.style.overflowX=t)},t.getCurrentPositions=function(){return{clickX:t.state.clickPosition.x,clickY:t.state.clickPosition.y,currentX:t.state.mousePosition.x,currentY:t.state.mousePosition.y}},t.state={mousePosition:Object(a.a)({},m.a),clickPosition:Object(a.a)({},m.a)},t.imgRef=s.a.createRef(),t.imgRectangle={},t.initialBodyOverflow={},t}return Object(o.a)(n,t),Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=document.body.style,t=e.overflowX,n=e.overflowY;this.initialBodyOverflow={overflowX:t,overflowY:n}}},{key:"render",value:function(){var t=this.props,n=t.source,a=t.thumbnailSize,r=t.translate,c=t.margin,i=t.rectangleStyles,l=t.placement,o=this.getCurrentPositions();return s.a.createElement("div",{className:"pos-relative"},s.a.createElement(d.a,{ref:this.imgRef,source:n,size:a,positions:o,rectangleStyles:i,handleClick:this.handleClick,handleMouseMove:this.handleMouseMove}),Object(f.a)(e,"env.REACT_APP_PERFECT_ZOOM_DEBUG",!1)&&s.a.createElement(g.a,{positions:o}),Object(f.d)(o.currentX)&&s.a.createElement(h.a,{imgRef:this.imgRef,source:n,placement:l,translate:r,margin:c,positions:o}))}}]),n}(u.PureComponent));b.defaultProps={placement:"right",size:[300,500],margin:20}}).call(this,n(36))},function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(2);t.a=r.a.memo((function(e){var t=e.positions,n=t.currentX,i=t.currentY,l=t.clickX,o=t.clickY;return r.a.createElement(a.Fragment,null,r.a.createElement("br",null),Object(c.d)(n)&&r.a.createElement("h4",{className:"d-inline"},"Current position (",n,", ",i,")")," ",Object(c.d)(l)&&r.a.createElement("h4",{className:"d-inline"},"Click positon: (",l,",",o,")"))}))},function(e,t,n){e.exports=n.p+"static/media/sample2.05cb93df.jpg"},,function(e,t,n){"use strict";var a=n(1),r=n.n(a),c=n(2),i=function(e,t){var n=t.currentX,a=t.clickX;return Math.floor(Math.abs(n-a)*e)},l=function(e,t){var n=t.currentY,a=t.clickY;return Math.floor(Math.abs(n-a)*e)},o=function(e){return function(t){return{top:Object(c.a)(t,"top",0)+Object(c.a)(e,"y",0),left:Object(c.a)(t,"left",0)+Object(c.a)(e,"x",0)}}},u=function(e){return{right:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return{top:0,left:e.clientWidth+n}},left:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return{top:0,left:-n-i(e.naturalHeight/e.clientHeight,t)}},top:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return{top:-n-l(e.naturalHeight/e.clientHeight,t),left:0}},bottom:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return{top:e.clientHeight+n,left:0}}}[e]},s=function(e,t){var n=e.naturalHeight,a=e.naturalWidth,r=e.clientHeight,c=t.currentX,i=t.currentY,l=t.clickX,o=t.clickY,u=n/r;return{marginTop:-Math.floor(Math.min(i,o)*u),marginRight:-Math.floor(a-Math.max(c,l)*u),marginBottom:-Math.floor(n-Math.max(i,o)*u),marginLeft:-Math.floor(Math.min(c,l)*u)}},m=n(9),f=n(10),d=n(13),h=n(11),g=n(14),b=function(e){function t(e){var n;return Object(m.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleKeyDown=function(e){if("d"===e.key.toLowerCase()){var t=n.props,a=t.image,r=t.positions,c=n.canvasRef.current,i=c.getContext("2d"),l=n.getScaledImageDimensions(r),o=l.x,u=l.y,s=l.width,m=l.height;i.drawImage(a,o,u,s,m,0,0,s,m),n.downloadImage(c),i.clearRect(0,0,s,m)}},n.downloadImage=function(e){var t=document.createElement("a");t.download="cropped_image.png",t.href=e.toDataURL("image/png;base64"),t.click()},n.getScaledImageDimensions=function(e){var t=e.clickX,a=e.clickY,r=e.currentX,c=e.currentY,i=n.props.image,l=i.naturalHeight/i.clientHeight;return{x:Math.floor(Math.min(t,r)*l),y:Math.floor(Math.min(a,c)*l),width:Math.floor(Math.abs(t-r)*l),height:Math.floor(Math.abs(a-c)*l)}},n.canvasRef=r.a.createRef(),n}return Object(g.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.image,n=e.positions;if(!Object.values(n).every(c.d)||!Object(c.c)(t))return null;var a=this.getScaledImageDimensions(n),i=a.width,l=a.height;return r.a.createElement("canvas",{ref:this.canvasRef,width:i,height:l,style:{display:"none"}})}}]),t}(r.a.PureComponent);t.a=r.a.memo((function(e){var t=e.imgRef,n=e.source,i=e.placement,l=e.positions,m=e.translate,f=e.margin,d=void 0===f?20:f;return r.a.createElement(a.Fragment,null,Object(c.c)(t.current)&&r.a.createElement("div",{className:"perfect-zoom-container",style:o(m)(u(i)(t.current,l,d))},r.a.createElement(b,{image:t.current,positions:l}),r.a.createElement("img",{src:n,alt:"realImage",style:s(t.current,l)})))}))},function(e,t,n){"use strict";var a=n(25),r=n(1),c=n.n(r),i=n(5),l=n(2),o=n(6),u=c.a.memo((function(e){var t=e.positions,n=e.rectangleStyles;return Object(l.d)(t.clickX)&&Object(l.d)(t.clickY)?c.a.createElement(r.Fragment,null,c.a.createElement("div",{className:"perfect-zoom-top-border",style:Object(o.e)(t,n)}),c.a.createElement("div",{className:"perfect-zoom-right-border",style:Object(o.d)(t,n)}),c.a.createElement("div",{className:"perfect-zoom-bottom-border",style:Object(o.b)(t,n)}),c.a.createElement("div",{className:"perfect-zoom-left-border",style:Object(o.c)(t,n)})):null})),s=c.a.forwardRef((function(e,t){var n=e.source,r=e.size,i=e.positions,o=e.rectangleStyles,s=Object(a.a)(e,["source","size","positions","rectangleStyles"]);return c.a.createElement("div",{className:"perfect-zoom-image-picker"},c.a.createElement("img",Object.assign({alt:"thumbnail",ref:t,src:n,style:{maxHeight:r[0],maxWidth:r[1]},onClick:s.handleClick},Object(l.d)(i.clickX)&&{onMouseMove:s.handleMouseMove})),Object.values(i).some(Boolean)&&c.a.createElement(u,{rectangleStyles:o,positions:i}))}));s.propTypes={handleLoadImage:i.func,handleClick:i.func,handleMouseMove:i.func,source:i.string,size:i.arrayOf(i.number),positions:i.shape({clickX:i.number,clickY:i.number,posX:i.number,posY:i.number}),rectangleStyles:i.shape({color:i.string,size:i.number})};t.a=c.a.memo(s)},,function(e,t,n){e.exports=n(42)},,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),i=n.n(c),l=(n(31),n(32),n(12)),o=n(7),u=n(3),s=n(17),m=n.n(s),f=function(e){var t=e.zoomState,n=e.setZoomState;function a(e,a){n(Object(u.a)({},t,{translate:Object(u.a)({},t.translate,Object(o.a)({},e,t.translate[e]+a))}))}function c(e){n(Object(u.a)({},t,{rectangleStyles:Object(u.a)({},t.rectangleStyles,{size:t.rectangleStyles.size+e})}))}function i(e){n(Object(u.a)({},t,{margin:t.margin+e}))}return r.a.createElement("div",{className:"App-header"},r.a.createElement("div",null,r.a.createElement("h2",null,"Perfect zoom controller"),r.a.createElement("h4",{className:"inline-block"},"TranslateX: ",t.translate.x," \xa0"),r.a.createElement("button",{onClick:function(){return a("x",-50)}},"-"),r.a.createElement("button",{onClick:function(){return a("x",50)}},"+"),r.a.createElement("br",null),r.a.createElement("h4",{className:"inline-block"},"TranslateY: ",t.translate.y," \xa0"),r.a.createElement("button",{onClick:function(){return a("y",-50)}},"-"),r.a.createElement("button",{onClick:function(){return a("y",50)}},"+"),r.a.createElement("br",null),r.a.createElement("h4",{className:"inline-block"},"Border size: ",t.rectangleStyles.size," \xa0"),r.a.createElement("button",{onClick:function(){return c(-1)}},"-"),r.a.createElement("button",{onClick:function(){return c(1)}},"+"),r.a.createElement("br",null),r.a.createElement("h4",{className:"inline-block"},"Margin: ",t.margin,"\xa0"),r.a.createElement("button",{onClick:function(){return i(-2)}},"-"),r.a.createElement("button",{onClick:function(){return i(2)}},"+"),r.a.createElement("br",null),r.a.createElement("h4",{className:"inline-block"},"Placement: \xa0"),r.a.createElement("select",{value:t.placement,onChange:function(e){n(Object(u.a)({},t,{placement:e.target.value}))}},r.a.createElement("option",{value:"top"},"top"),r.a.createElement("option",{value:"right"},"right"),r.a.createElement("option",{value:"bottom"},"bottom"),r.a.createElement("option",{value:"left"},"left")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h4",{className:"inline-block",style:{color:t.color}},"Rectangle border: ",t.color,"\xa0",r.a.createElement("input",{type:"color",value:t.rectangleStyles.color,onChange:function(e){n(Object(u.a)({},t,{rectangleStyles:Object(u.a)({},t.rectangleStyles,{color:e.target.value})}))}}))),r.a.createElement("div",{className:"App-header"},r.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"})))},d=n(22),h=function(e){var t=["row","row-reverse","center"];return-1===t.indexOf(e)?t[0]:t.indexOf(e)===t.length-1?t[0]:t[t.indexOf(e)+1]},g=function(e){var t=e.flexDirection,n=e.setFlexDirection;return r.a.createElement("button",{onClick:function(){n(h(t))},className:"flex-button"},r.a.createElement("span",null,t||"change flex direction"))},b=n(19).a,p=function(e){return r.a.createElement("p",null,"Sed a rhoncus elit. Pellentesque ultrices vestibulum velit, quis pellentesque leo sagittis non. Integer vel dictum orci. Praesent ac interdum massa. Aenean felis dui, aliquam nec consectetur non, rutrum eget diam. Proin id lorem eu est commodo condimentum et ac arcu. Integer ut libero id nibh aliquet gravida in sit amet neque. Donec nec justo ligula. Vestibulum eget tortor tempor, suscipit lorem a, luctus neque. Nam venenatis tortor nisl, sit amet fermentum nibh imperdiet a.")},v=n(21),E=n.n(v),y=function(e){var t=e.match,n=e.perfectZoomState,c=n.placement,i=n.rectangleStyles,o=n.margin,s=n.translate,m=Object(a.useState)("row"),f=Object(l.a)(m,2),d=f[0],h=f[1];return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"flex-area",style:Object(u.a)({},!t.small&&{flexDirection:d})},("center"===d||t.small)&&r.a.createElement(p,null),r.a.createElement(b,{placement:c,source:E.a,thumbnailSize:t.small?[150,250]:t.medium?[200,333]:[300,500],rectangleStyles:i,margin:o,translate:s}),!t.small&&r.a.createElement(p,null),("center"!==d||t.small)&&r.a.createElement(p,null),!t.small&&r.a.createElement(g,{flexDirection:d,setFlexDirection:h})),!t.small&&r.a.createElement(a.Fragment,null,r.a.createElement(p,null),r.a.createElement(p,null),r.a.createElement(p,null)))};var O=function(){var e=Object(a.useState)({placement:"right",rectangleStyles:{color:"#61dafb",size:2},translate:{x:0,y:0},margin:20}),t=Object(l.a)(e,2),n=t[0],c=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement(f,{zoomState:n,setZoomState:c}),r.a.createElement(d.a,{queries:{small:"(max-width: 859px)",medium:"(min-width: 860px) and (max-width: 1199px)",large:"(min-width: 1200px)"}},(function(e){return r.a.createElement(y,{match:e,perfectZoomState:n})})))};i.a.render(r.a.createElement(O,null),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.99e8ebd3.chunk.js.map